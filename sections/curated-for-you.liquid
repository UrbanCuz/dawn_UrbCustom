{% style %}
    .section-{{ section.id }}-padding {
        padding-top: {{ section.settings.padding_top | times: 0.75 | round : 0 }}px;
        padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round : 0 }}px;
    }

    @media screen and (min-width: 750px) {
        .section-{{ section.id }}-padding {
            padding-top: {{ section.settings.padding_top }}px;
            padding-bottom: {{ section.settings.padding_bottom }}px;
        }
    }
{% endstyle %}

<div class="section-{{ section.id }}-padding">
    <div class="page-width">
        {% if section.settings.title != blank %}
            <h2 class="curated-for-you__heading text center">{{ section.settings.title }}</h2>
        {% endif %}

        {% if section.settings.collection != blank %}
            {% assign collection = collections[section.settings.collection] %}
            {% assign products = collection.products | slice: 0, 7 %}

            {% if products.size > 0 %}
                {% for product in products %}
                    {% comment %} <img src="{{ product.image | image_url: '480x480' }}" alt="{{ product.title }}" class="product-image" height="480" width="480"/> {% endcomment %}
                    <p>{{ product.title }}</p>
                {% endfor %}
            {% else %}
                <p>No products found in this collection.</p>
            {% endif %}
           
        {% else %}
            <p>No collection</p>
        {% endif %}
    </div>
</div>

{% schema %}
    {
        "name": "Curated for you",
        "settings": [
            {
                "type": "text",
                "id": "title",
                "label": "Section Title",
                "default": "Curated for you"
            },
            {
                "type": "collection",
                "id": "collection",
                "label": "Select Collection"
            },
            {
                "type": "checkbox",
                "id": "show_vendor",
                "label": "Show Vendor",
                "default": false
            },
            {
                "type": "checkbox",
                "id": "show_rating",
                "label": "Show Rating",
                "default": true
            },
            {
                "type": "header",
                "content": "t:sections.all.padding.section_padding_heading"
            },
            {
                "type": "range",
                "id": "padding_top",
                "min": 0,
                "max": 100,
                "step": 4,
                "label": "t:sections.all.padding.padding_top",
                "default": 36
            },
            {
                "type": "range",
                "id": "padding_bottom",
                "min": 0,
                "max": 100,
                "step": 4,
                "label": "t:sections.all.padding.padding_bottom",
                "default": 36
            }
            ],
            "presets": [
                {
                    "name": "t:sections.curated_for_you.name"
                }
                ]
    }
{% endschema %}